import{g as r,S as d,T as s,E as o}from"./ScrollTrigger.DPnwV6YG.js";r.registerPlugin(d);class l{timeouts={resizeThrottle:null};windowWidth;windowHeight;clientWidth;clientHeight;isScrolling=!1;constructor(){let i="unknown";navigator.userAgent.indexOf("Win")!==-1?i="windows":navigator.userAgent.indexOf("Android")!==-1?i="android":navigator.userAgent.indexOf("Mac")!==-1?i="mac":navigator.userAgent.indexOf("Linux")!==-1&&(i="linux"),document.documentElement.classList.add(`is-${i}`);let t="unknown";navigator.userAgent.indexOf("Firefox")!==-1?t="firefox":navigator.userAgent.indexOf("Chrome")!==-1?t="chrome":navigator.userAgent.indexOf("Safari")!==-1&&(t="safari"),document.documentElement.classList.add(`is-${t}`),this.bindEvents()}init(){s.init(),this.onResize(),s.nextTick(this.intro,this)}bindEvents(){window.addEventListener("resize",this.resizeThrottle.bind(this)),window.addEventListener("scroll",this.onScroll.bind(this),{passive:!0}),o.on("updateViewport",this.onResize,this,!0);const i=new IntersectionObserver(t=>{t.forEach(e=>{e.target.dispatchEvent(new CustomEvent("intersect",{detail:{isIntersecting:e.isIntersecting}})),e.isIntersecting?(e.target.classList.add("is-in-view"),e.target.classList.remove("is-out-of-view","is-out-of-view-top","is-out-of-view-bottom")):(e.target.classList.remove("is-in-view"),e.target.classList.add("is-out-of-view"),e.target.classList.toggle("is-out-of-view-top",e.boundingClientRect.top<0),e.target.classList.toggle("is-out-of-view-bottom",e.boundingClientRect.top>0))})},{threshold:0});document.querySelectorAll("[data-intersect]").forEach(t=>{i.observe(t)}),document.readyState==="complete"?this.siteLoaded():window.addEventListener("load",this.siteLoaded,{once:!0}),this.onScroll()}siteLoaded(){document.documentElement.classList.add("is-loaded"),o.emit("siteLoaded")}resizeThrottle(){clearTimeout(this.timeouts.resizeThrottle),this.timeouts.resizeThrottle=setTimeout(()=>{s.nextTick(this.onResize,this)},200)}onResize(){const i=window.innerWidth;let t=!1;this.windowWidth!==i&&(this.windowWidth!==void 0&&(t=!0),this.windowWidth=i,this.clientWidth=document.body.clientWidth);const e=window.innerHeight;let n=!1;this.windowHeight!==e&&(this.windowHeight!==void 0&&(n=!0),this.windowHeight=e,this.clientHeight=document.body.clientHeight),window.safeWidth=i,window.safeHeight=e,window.maxScrollTop=document.body.scrollHeight-window.safeHeight,this.setScrollProgress(),o.emit("resize",t,n)}onScroll(){this.setScrollProgress(),s.nextTick(()=>{o.emit("scroll",window.scrollY)})}setScrollProgress(){window.scrollProgress=window.scrollY/window.maxScrollTop}intro(){const i=document.querySelector(".js-site-wrapper");r.to(i,{opacity:1,duration:.3,onComplete:()=>{document.documentElement.classList.remove("is-scroll-blocked")}})}}const a=new l;a.init();
